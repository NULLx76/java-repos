<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.bookkart</groupId>
  <artifactId>bookkart</artifactId>
  <version>0.0.1-SNAPSHOT</version>
  <packaging>pom</packaging>
  <name>Online book store </name>
  <description>Online book store where user can find different types of books and purchase them</description>
  <properties>
  	<jdk.version>1.7</jdk.version>
  	<glassfish.directory>C:\\softwares_imp\\JavEE7_SDK\\sdk\\glassfish4</glassfish.directory>
  </properties>
  <build>
  	<pluginManagement>
  		<plugins>
  			<plugin>
  				<groupId>org.apache.maven.plugins</groupId>
  				<artifactId>maven-compiler-plugin</artifactId>
  				<version>3.3</version>
  				<configuration>
					<source>1.7</source>
					<target>1.7</target>
				</configuration>
  			</plugin>
  			<plugin>
		        <artifactId>maven-resources-plugin</artifactId>
		        <version>2.7</version>
		        <executions>
		          <execution>
		            <id>copy-resources</id>
		            <!-- here the phase you need -->
		            <phase>validate</phase>
		            <goals>
		              <goal>copy-resources</goal>
		            </goals>
		            <configuration>
		              <outputDirectory>src/main/webapp/</outputDirectory>
		              <resources>          
		                <resource>
		                  <directory>WebContent</directory>
		                </resource>
		              </resources>              
		            </configuration>            
		          </execution>
		        </executions>
      		</plugin>
  			<plugin>
		        <artifactId>maven-deploy-plugin</artifactId>
		        <version>2.7</version>
		        <executions>
		          <execution>
		            <id>default-deploy</id>
		            <phase>deploy</phase>
		            <goals>
		              <goal>deploy</goal>
		            </goals>
		          </execution>
		        </executions>
      		</plugin>
  			<plugin>
                <groupId>org.glassfish.maven.plugin</groupId>
                <artifactId>maven-glassfish-plugin</artifactId>
                <version>2.1</version>
                <executions>
                    <execution>
                        <id>gf-undeploy</id>
                        <goals>
                            <goal>undeploy</goal>
                        </goals>
                        <phase>clean</phase>
                    </execution>
                    <execution>
                        <id>gf-deploy</id>
                        <goals>
                            <goal>deploy</goal>
                        </goals>
                        <phase>package</phase>
                    </execution>
                </executions>
                <configuration>
                    <user>admin</user>
                    <force>true</force>
                    <echo>true</echo>
                    <glassfishDirectory>${glassfish.directory}</glassfishDirectory>
                    <domainDirectory>${glassfish.directory}\\glassfish\\domains\\</domainDirectory>
                    <passwordFile>${glassfish.directory}\\glassfish\\domains\\domain1\\config\\domain-passwords</passwordFile>
                    <domain>
                        <name>domain1</name>
                        <adminPort>4848</adminPort>
                        <httpPort>8080</httpPort>
                        <httpsPort>8443</httpsPort>
                    </domain>
                    <components>
                        <component>
                            <name>bookkartApp</name>
                            <artifact>bookkartApp/target/bookkartApp.war</artifact>
                        </component>
                    </components>
                </configuration>
            </plugin>
  		</plugins>
  	</pluginManagement>
  </build>
  <modules>
    <module>bookkartApp</module>
    <module>bookkartApp_Database</module>
  </modules>
</project>