<?xml version="1.0" encoding="UTF-8"?>

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		 xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.kintosoft.jira</groupId>
	<artifactId>subversion-plus</artifactId>
	<name>Subversion ALM</name>
	<packaging>atlassian-plugin</packaging>
	<developers>
		<developer>
			<name>Kinto Soft Ltd</name>
			<email>contact@kintosoft.com</email>
			<organization>Kinto Soft Ltd</organization>
		</developer>
	</developers>
	<build>
		<resources>
			<resource>
				<directory>src/main/resources</directory>
				<filtering>true</filtering>
				<includes>
					<include>atlassian-plugin.xml</include>
					<include>subversion-jira-plugin.properties</include>
				</includes>
			</resource>
			<resource>
				<directory>src/main/resources</directory>
				<filtering>false</filtering>
				<excludes>
					<exclude>atlassian-plugin.xml</exclude>
					<exclude>subversion-jira-plugin.properties</exclude>
					<exclude>**/*.jsp</exclude>
					<exclude>**/*.bak</exclude>
				</excludes>
			</resource>
			<resource>
				<directory>src/release</directory>
				<includes>
					<include>TMATE-LICENSE</include>
					<include>TRILEAD-LICENSE</include>
					<include>SVNWEBCLIENT-LICENSE</include>
					<include>H2-LICENSE</include>
					<include>SUBVERSION ALM DISCLAIMER OF LIABILITY</include>
					<include>SUBVERSION ALM LICENSE</include>
					<include>README</include>
				</includes>
			</resource>
		</resources>
		<plugins>
			<plugin>
				<groupId>com.atlassian.maven.plugins</groupId>
				<artifactId>maven-clover2-plugin</artifactId>
				<configuration>
					<targetPercentage>50%</targetPercentage>
				</configuration>
			</plugin>
			<plugin>
				<groupId>com.atlassian.maven.plugins</groupId>
				<artifactId>maven-jira-plugin</artifactId>
				<version>${amps.version}</version>
				<extensions>true</extensions>
				<configuration>
					<productVersion>${atlassian.product.version}</productVersion>
					<productDataVersion>${atlassian.product.data.version}</productDataVersion>
					<jvmArgs>-server -Xmx1g -XX:MaxPermSize=512m -Djira.dev.mode=false</jvmArgs>
					<allowGoogleTracking>false</allowGoogleTracking>
					<skipAllPrompts>true</skipAllPrompts>
					<compressResources>false</compressResources>
					<instructions>
						<Import-Package>
							javax.servlet.jsp*;version="0.0.0",
							org.springframework.context.annotation*;version="0.0.0",
							javax.annotation*;version="0.0.0", javax.sql*;version="0.0.0",
							javax.naming*;version="0.0.0",
							org.apache.commons.lang*;version="2.5",
							com.atlassian.jira.extension*;version="5.0",
							com.atlassian.jira.issue.tabpanels*;version="5.0",
							com.atlassian.jira.plugin.issuetabpanel*;version="5.0",
							com.atlassian.jira.plugin.projectpanel*;version="5.0",
							com.atlassian.jira.plugin.projectpanel.impl*;version="5.0",
							com.atlassian.jira.web.action*;version="5.0",
							com.atlassian.jira.web.action.issue*;version="5.0",
							com.atlassian.jira.web.bean*;version="5.0",
							com.atlassian.jira.project*;version="5.0",
							com.atlassian.jira.project.browse*;version="5.0",
							com.atlassian.core.util*;version="4.6.2",
							org.apache.commons.collections.map*;version="3.2.1",
							javax.net.ssl*;version="0.0.0",
							javax.servlet.http*;version="0.0.0",
							javax.xml.parsers*;version="0.0.0",
							webwork.action*;version="1.4-atlassian-22",
							webwork.action.factory*;version="1.4-atlassian-22",
							com.opensymphony.util*;version="2.2.7-atlassian-1",
							org.xml.sax*;version="0.0.0",
							org.xml.sax.helpers*;version="0.0.0",
							org.springframework.beans.factory*;version="2.5.6",
							com.atlassian.sal.api.lifecycle*;version="2.1.0",
							*;version="0.0.0";resolution:=optional</Import-Package>
						<Spring-Context>*;timeout:=60</Spring-Context>
						<Export-Package>com.kintosoft.svnwebclient.jira.public_interface*</Export-Package>
						<Ignore-Package>
						</Ignore-Package>
					</instructions>
				</configuration>
			</plugin>
			<plugin>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<source>${jdkLevel}</source>
					<target>${jdkLevel}</target>
				</configuration>
			</plugin>
			<!--<plugin>
				<groupId>com.atlassian.plugin</groupId>
				<artifactId>atlassian-spring-scanner-maven-plugin</artifactId>
				<version>1.2.6</version>
				<executions>
					<execution>
						<goals>
							<goal>atlassian-spring-scanner</goal>
						</goals>
						<phase>process-classes</phase>
					</execution>
				</executions>
				<configuration>
					<scannedDependencies>
						<dependency>
							<groupId>com.atlassian.plugin</groupId>
							<artifactId>atlassian-spring-scanner-external-jar</artifactId>
						</dependency>
					</scannedDependencies>
					<verbose>false</verbose>
				</configuration>
			</plugin>-->

			<plugin>
				<groupId>org.mortbay.jetty</groupId>
				<artifactId>jetty-jspc-maven-plugin</artifactId>
				<version>8.1.9.v20130131</version>
				<executions>
					<execution>
						<phase>compile</phase>
						<id>jspc</id>
						<goals>
							<goal>jspc</goal>
						</goals>
						<configuration>
							<webAppSourceDirectory>${basedir}/src/main/resources/svnwebclient</webAppSourceDirectory>
							<verbose>false</verbose>
							<webXmlFragment>${basedir}/target/webfrag.xml</webXmlFragment>
							<mergeFragment>false</mergeFragment>
							<keepSources>false</keepSources>
						</configuration>
					</execution>
				</executions>
			</plugin>
			<!--<plugin>
				<groupId>com.docminer.jira.plugin.jspc</groupId>
				<artifactId>web2atlas</artifactId>
				<version>1.1.0</version>
				<executions>
					<execution>
						<phase>compile</phase>
						<goals>
							<goal>parse</goal>
						</goals>
						<configuration>
							<resourcesPrefix>/download/resources/com.kintosoft.jira.subversion-plus:svnwebclient/svnwebclient</resourcesPrefix>
							<webAppSourceDirectory>${basedir}/src/main/resources/svnwebclient</webAppSourceDirectory>
							<path>svnwebclient</path>
							<ignore_path>dwr/engine.js,dwr/util.js,dwr/interface/CommitGraphService.js,dwr/interface/StatsService.js</ignore_path>
							<force_resource>locale/locale.properties</force_resource>
						</configuration>
					</execution>
				</executions>
			</plugin>-->
		</plugins>
	</build>
	<dependencies>
		<dependency>
			<groupId>org.tmatesoft.svnkit</groupId>
			<artifactId>svnkit</artifactId>
			<version>1.8.11</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>servlet-api</artifactId>
			<version>2.5</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.sal</groupId>
			<artifactId>sal-api</artifactId>
			<version>${sal.api.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.jira</groupId>
			<artifactId>jira-core</artifactId>
			<version>${atlassian.product.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.jira</groupId>
			<artifactId>jira-api</artifactId>
			<version>${atlassian.product.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>commons-codec</groupId>
			<artifactId>commons-codec</artifactId>
			<version>1.4</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>com.h2database</groupId>
			<artifactId>h2</artifactId>
			<version>1.3.173</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-api</artifactId>
			<version>1.6.4</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.google.collections</groupId>
			<artifactId>google-collections</artifactId>
			<version>1.0</version>
			<scope>provided</scope>
		</dependency>
		<!-- SVNWebClient -->
		<!-- BUS -->
		<dependency>
			<groupId>com.google.guava</groupId>
			<artifactId>guava</artifactId>
			<version>19.0</version>
			<scope>provided</scope>
		</dependency>
		<!-- END BUS -->


		<dependency>
			<groupId>backport-util-concurrent</groupId>
			<artifactId>backport-util-concurrent</artifactId>
			<version>3.1</version>
			<type>jar</type>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>com.uwyn</groupId>
			<artifactId>jhighlight</artifactId>
			<version>1.0</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.apache.commons</groupId>
			<artifactId>commons-compress</artifactId>
			<version>1.12</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>commons-fileupload</groupId>
			<artifactId>commons-fileupload</artifactId>
			<version>1.3.2</version>
			<type>jar</type>
			<scope>compile</scope>
		</dependency>
		<!-- Jasper -->
		<dependency>
			<groupId>org.directwebremoting</groupId>
			<artifactId>dwr</artifactId>
			<version>3.0.M1</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.mortbay.jetty</groupId>
			<artifactId>jsp-impl</artifactId>
			<version>2.2.2.b05.0</version>
			<scope>compile</scope>
		</dependency>
		<!-- <dependency> <groupId>org.eclipse.equinox</groupId> <artifactId>servletbridge</artifactId>
			<version>1.2.100.v20110502</version> <scope>compile</scope> </dependency> -->
		<!-- <dependency> <groupId>org.eclipse.equinox</groupId> <artifactId>servletbridge</artifactId>
			<version>1.0.0-v20070523</version> <scope>provided</scope> </dependency> -->
		<!-- <dependency>
			<groupId>com.atlassian.upm</groupId>
			<artifactId>plugin-license-storage-lib</artifactId>
			<version>${upm.license.compatibility.version}</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.upm</groupId>
			<artifactId>plugin-license-storage-plugin</artifactId>
			<version>${upm.license.compatibility.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.upm</groupId>
			<artifactId>licensing-api</artifactId>
			<version>${upm.license.compatibility.version}</version>
			<scope>provided</scope>
		</dependency>-->
		<dependency>
			<groupId>com.atlassian.templaterenderer</groupId>
			<artifactId>atlassian-template-renderer-api</artifactId>
			<version>${atlassian.templaterenderer.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>commons-lang</groupId>
			<artifactId>commons-lang</artifactId>
			<version>2.4</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.osgi</groupId>
			<artifactId>spring-osgi-core</artifactId>
			<version>1.2.1</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.usercompatibility</groupId>
			<artifactId>usercompatibility-sal</artifactId>
			<version>0.5</version>
		</dependency>
		<dependency>
			<groupId>org.quartz-scheduler</groupId>
			<artifactId>quartz</artifactId>
			<version>1.8.0</version>
			<exclusions>
				<exclusion>
					<groupId>org.slf4j</groupId>
					<artifactId>slf4j-api</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>com.atlassian.scheduler</groupId>
			<artifactId>atlassian-scheduler-api</artifactId>
			<version>${atlassian.scheduler.version}</version>
		</dependency>
		<dependency>
			<groupId>com.atlassian.scheduler</groupId>
			<artifactId>atlassian-scheduler-core</artifactId>
			<version>${atlassian.scheduler.version}</version>
		</dependency>

		<dependency>
			<groupId>com.atlassian.scheduler.caesium</groupId>
			<artifactId>atlassian-scheduler-caesium</artifactId>
			<version>${atlassian.scheduler.caesium.version}</version>
		</dependency>
		<dependency>
			<groupId>com.atlassian.activeobjects</groupId>
			<artifactId>activeobjects-plugin</artifactId>
			<version>1.1.5</version>
			<scope>provided</scope>
		</dependency>
		<!--<dependency>
			<groupId>com.atlassian.activeobjects</groupId>
			<artifactId>activeobjects-core</artifactId>
			<version>${ao.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>net.java.dev.activeobjects</groupId>
			<artifactId>activeobjects</artifactId>
			<version>1.2.2</version>
		</dependency>-->

	</dependencies>
	<properties>
		<atlassian.plugin.key>com.kintosoft.jira.subversion-plus</atlassian.plugin.key>
		<atlassian.plugin.application.version.min>7.0</atlassian.plugin.application.version.min>
		<atlassian.product.version>7.2.0</atlassian.product.version>
		<atlassian.product.data.version>7.2.0</atlassian.product.data.version>
		<ao.version>1.2.2</ao.version>
		<jdkLevel>1.8</jdkLevel>
		<amps.version>6.2.6</amps.version>
		<project.organization.name>Kinto Soft Ltd</project.organization.name>
		<project.organization.url>https://marketplace.atlassian.com/plugins/pbeltranl.subversion.jira.pbeltranl-jira-subversion-plugin</project.organization.url>
		<upm.license.compatibility.version>2.13.3</upm.license.compatibility.version>
		<atlassian.templaterenderer.version>1.0.5</atlassian.templaterenderer.version>
		<sal.api.version>2.1.0</sal.api.version>
		<atlassian.scheduler.version>1.6.0</atlassian.scheduler.version>
		<atlassian.scheduler.caesium.version>1.1.2</atlassian.scheduler.caesium.version>
		<atlassian.spring.scanner.version>1.2.6</atlassian.spring.scanner.version>
	</properties>
	<version>6.0.10-jira-7</version>
	<organization>
		<name>Kinto Soft Ltd</name>
		<url>http://www.kintosoft.com</url>
	</organization>
	<description>Subversion ALM</description>
</project>
